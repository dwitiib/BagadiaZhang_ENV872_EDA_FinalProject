---
title: "Data Wrangling _ Demographic"
author: "Dwiti Bagadia and Yue Zhang"
date: "2023-04-18"
output: pdf_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include = FALSE}
#This code chunk will tidy your knit PDF files, wrapping long code lines
#For it to work, the "formatR" package needs to be installed
#install.packages('formatR')
knitr::opts_chunk$set(tidy.opts=list(width.cutoff=40), tidy=TRUE)

```

## OVERVIEW

This R Markdown file aims to wrangle the demographic data of NYC from 2016 to 2022.

## Set working directory and load packages
```{r packages, message = FALSE}
getwd()
library(tidyverse)
library(lubridate)
library(dplyr)
```

## Load data
```{r data, message = FALSE}
setwd("E:/MCRP/Spring2023/BagadiaZhang_ENV872_EDA_FinalProject")
getwd()
NYC_Demographic = read.csv("./Data/RawData/Demographic_2016to2020.csv")

```

## Clean the original dataset
```{r clean data, message = FALSE}
NYC_Demographic = NYC_Demographic[-1,]
NYC_Demographic_clean = NYC_Demographic[,c(35, 58, 60, 63:69)]
colnames(NYC_Demographic_clean) = c("Zipcode", "TotalPop", "LandArea_SqMile", "White", "Black", "AmeIndian", "Asian", "Hawaiian", "Other", "TwoOrMore")

```

## Calculate the non white population density.
```{r, message = FALSE}
NYC_Demographic_clean = NYC_Demographic_clean %>% mutate("NonWhiteDens" = (as.numeric(TotalPop) - as.numeric(White))/as.numeric(NYC_Demographic_clean$LandArea_SqMile)) %>% select("Zipcode", "NonWhiteDens")

```

## Save data
```{r data save, message = FALSE}
write.csv(NYC_Demographic_clean, "./Data/ProcessedData/NYC_Demographic_processed.csv", row.names = FALSE)


```